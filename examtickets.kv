#:kivy 2.2.1

<MainScreen>:
    tickets_list_layout: tickets_list_layout
    BoxLayout:
        orientation: 'vertical'
        padding: 15
        spacing: 10
        canvas.before:
            Color:
                rgba:  0, 0.6, 0.78, 1  # лагунний бірюзово-блакитний
            Rectangle:
                pos: self.pos
                size: self.size
        Label:
            text: '[b]Мої Білети[/b]'
            markup: True
            font_size: '22sp'
            size_hint_y: None
            height: 60

        ScrollView:
            BoxLayout:
                id: tickets_list_layout
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height

        Button:
            text: 'Додати білет'
            size_hint_y: None
            height: 50
            on_press: root.manager.current = 'add_ticket_screen'

<AddTicketScreen>:
    ticket_name_input: ticket_name_input
    questions_inputs: questions_inputs # Прив'язуємо ObjectProperty
    BoxLayout:
        orientation: 'vertical'
        padding: 15
        spacing: 10
        canvas.before:
            Color:
                rgba: 0.95, 0.95, 0.95, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Label:
            text: '[b]Назва нового білета[/b]'
            markup: True
            font_size: '20sp'
            size_hint_y: None
            height: 60
            color: 0.1, 0.5, 0.7, 1  # ← тут задається колір тексту (наприклад, лагунний)

        TextInput:
            id: ticket_name_input
            hint_text: 'Введіть назву'
            size_hint_y: None
            height: 50
        
        Label:
            text: '[b]Запитання[/b]'
            markup: True
            font_size: '18sp'
            size_hint_y: None
            height: 40
        
        ScrollView:
            BoxLayout:
                id: questions_inputs # Ідентифікатор для BoxLayout з TextInput-ами
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: 5 # Додано для кращого вигляду

        Button:
            text: 'Зберегти'
            size_hint_y: None
            height: 50
            on_press: root.save_ticket()

        Button:
            text: 'Назад'
            size_hint_y: None
            height: 50
            on_press: root.manager.current = 'main_screen'
<EditTicketScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 15
        spacing: 10
        canvas.before:
            Color:
                rgba: 0.95, 0.95, 0.95, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: '[b]Редагувати білет[/b]'
            markup: True
            font_size: '20sp'
            size_hint_y: None
            height: 60
            color: 0.1, 0.5, 0.7, 1

        TextInput:
            id: new_ticket_name_input
            hint_text: 'Нова назва білета'
            size_hint_y: None
            height: 50

        Button:
            text: 'Зберегти'
            size_hint_y: None
            height: 50
            on_press: root.save_changes()

        Button:
            text: 'Назад'
            size_hint_y: None
            height: 50
            on_press: root.go_back()
<TicketQuestionsScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 15
        spacing: 10
        canvas.before:
            Color:
                rgba:  0, 0.6, 0.78, 1  # лагунний бірюзово-блакитний
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            id: ticket_title # Додаємо ідентифікатор для заголовка
            text: '[b]Запитання білета[/b]'
            markup: True
            font_size: '20sp'
            size_hint_y: None
            height: 60

        ScrollView:
            BoxLayout:
                id: questions_list
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height

        Button:
            text: 'Назад'
            size_hint_y: None
            height: 50
            on_press: root.manager.current = 'main_screen'
<EditQuestionScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 15
        spacing: 10
        canvas.before:
            Color:
                rgba: 0.95, 0.95, 0.95, 1
            Rectangle:
                pos: self.pos
                size: self.size

        Label:
            text: '[b]Редагування запитання[/b]'
            markup: True
            font_size: '20sp'
            size_hint_y: None
            height: 60
            color: 0.1, 0.5, 0.7, 1

        TextInput:
            id: question_input
            hint_text: 'Текст запитання'
            size_hint_y: None
            height: 50

        TextInput:
            id: answer_input
            hint_text: 'Текст відповіді'
            size_hint_y: None
            height: 100 # Збільшено висоту для відповіді
            multiline: True # Дозволити кілька рядків

        TextInput:
            id: image_path_input
            hint_text: 'Шлях до скріншоту (наприклад, C:/Users/user/image.png)'
            size_hint_y: None
            height: 50
        
        Image:
            id: image_preview
            source: ''
            size_hint_y: None
            height: 200
            allow_stretch: True
            keep_ratio: True

        Button:
            text: 'Зберегти'
            size_hint_y: None
            height: 50
            on_press: root.save_question()

        Button:
            text: 'Назад'
            size_hint_y: None
            height: 50
            on_press: root.manager.current = 'ticket_questions_screen'